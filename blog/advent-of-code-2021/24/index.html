<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Advent of Code 2021 Day 24: Arithmetic Logic Unit | Brain Dump</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Finding valid input for an ALU program."><meta name=generator content="Hugo 0.103.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="Advent of Code 2021 Day 24: Arithmetic Logic Unit"><meta property="og:description" content="Finding valid input for an ALU program."><meta property="og:type" content="article"><meta property="og:url" content="https://www.roessland.com/blog/advent-of-code-2021/24/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-12-24T00:00:00+00:00"><meta property="article:modified_time" content="2021-12-24T00:00:00+00:00"><meta itemprop=name content="Advent of Code 2021 Day 24: Arithmetic Logic Unit"><meta itemprop=description content="Finding valid input for an ALU program."><meta itemprop=datePublished content="2021-12-24T00:00:00+00:00"><meta itemprop=dateModified content="2021-12-24T00:00:00+00:00"><meta itemprop=wordCount content="5763"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Advent of Code 2021 Day 24: Arithmetic Logic Unit"><meta name=twitter:description content="Finding valid input for an ALU program."><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.13.4/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>window.addEventListener("DOMContentLoaded",function(){let e=document.getElementsByClassName("language-mermaid");for(let t of e){let n=t.parentElement;n.before(t),n.remove()}mermaid.init(void 0,".language-mermaid")}),MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]},svg:{fontCache:"global"}}</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Brain Dump</a><div class="flex-l items-center"><div class=ananke-socials><a href=https://github.com/roessland target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub‚Äî‚ÄîOpens in a new window"><span class=icon><svg height="50" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">BLOGS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Advent of Code 2021 Day 24: Arithmetic Logic Unit</h1><p class=tracked>By <strong>Andreas R√∏ssland</strong></p><time class="f6 mv4 dib tracked" datetime=2021-12-24T00:00:00Z>December 24, 2021</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><a href=https://adventofcode.com/2021/day/24>https://adventofcode.com/2021/day/24</a>
<a href=https://github.com/roessland/advent-of-code>https://github.com/roessland/advent-of-code</a></p><p>The task for today is to figure out the highest valid input for a program. This turned out to be more of a reverse engineering task than a programming task.</p><h3 id=dependency-graph>Dependency graph</h3><p>By keeping track of which command changed a register during execution I can make a dependency graph of the entire program.</p><p>For example, the following program:</p><blockquote><p>Takes a non-negative integer as input, converts it into binary, and stores the lowest (1&rsquo;s) bit in¬†<code>z</code>, the second-lowest (2&rsquo;s) bit in¬†<code>y</code>, the third-lowest (4&rsquo;s) bit in¬†<code>x</code>, and the fourth-lowest (8&rsquo;s) bit in¬†<code>w</code>:</p></blockquote><pre tabindex=0><code>inp w
add z w
mod z 2
div w 2
add y w
mod y 2
div w 2
add x w
mod x 2
div w 2
mod w 2
</code></pre><p>Has the following dependency graph:</p><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph TD;
0[inp w] %% input, mods w
1[add z w] %% z, w, mods z
2[mod z 2] %%  z, mods z
3[div w 2] %% w, mods w
4[add y w] %% y, w, mods y
5[mod y 2] %% y, mods y
6[div w 2] %%  w, mods w
7[add x w] %% x, w, mods x
8[mod x 2] %% x, mods x
9[div w 2] %% w, mods w
10[mod w 2] %% w, mods w
x
y
z
w


0 --&gt; input
1 --&gt; 0
2 --&gt; 1
3 --&gt; 0
4 --&gt; 3
5 --&gt; 4
6 --&gt; 3
7 --&gt; 6
8 --&gt; 7
9 --&gt; 6
10 --&gt; 9
x --&gt; 8
y --&gt; 5
z --&gt; 2
w --&gt; 10
</code></pre><p>Applying the same technique to the much larger input program, results in a large graph. I have cropped the program/modified the graph here so it is more readable. But the basic structure is the same. The program can be divided into
14 modules by cutting it where the dependency graph &ldquo;looks thin&rdquo;. That is, at the nodes where the state is given only by <em>z</em>, and the other registers don&rsquo;t matter. (Since they will be overridden using e.g. <code>mul x 0</code> in the next module.) Each module takes only 2 inputs: The value of the z register after the previous module, and an input digit. None of them depend on the x, y and w registers.</p><p><img src=mermaid-diagram-5modules.svg alt></p><p>I have cropped the program to show only the first module. Since it is the first module it does not depend on the z register (since it is initially 0).</p><p><img src=mermaid-diagram-finalmodule.svg alt></p><p>This is a dependency graph (directed acyclic graph), and computation flows right to left. &ldquo;add z y&rdquo; on the left depends on everything to its right. When &ldquo;add z y&rdquo; has been performed, the registers contain the output of the module.</p><h2 id=modules>Modules</h2><p>I will name these modules $f_k(i_k, z)$, where $k$ is the module number $0, 1, \cdots13$, $i_k$ is the input for module $k$, and $z$ is the value of the $z$ register at the start of the module. The output of $f_k$ is the value of the $z$ register after the module has been executed.
$$ z_{after} = f_k(i_k, z_{before}) $$
The task is the find the largest input sequence which yields $z=0$ after executing the program. Define $F_k(\mathbf i)$ to be the value of the $z$ register after running the first $k$ modules with $i_k$ as input, and passing that into the next module. $F_k$ can be found given $F_{k-1}$ and $f(k)$, like this:
$$ F_k(\mathbf i) = f_k(i_k, F_{k-1}(\mathbf i))$$</p><p>Or in &ldquo;Haskell syntax&rdquo; with partial application, currying and piping:</p><pre tabindex=0><code>F_k(i) = f0 i0 0 | f1 i1 | f2 i2 | f3 i3 | f4 i4 | f5 i5 | f6 i6 | f7 i7 | f8 i8 | f9 i9 | f10 i10 | f11 i11 | f12 i12 | f13 i13
</code></pre><p>With memoization (which turned out to be useless and badly performing) you could write it like this in Go. I use the fact that each module is exactly 18 lines long to do the splitting.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>allInstrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseFile</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>fk</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>z</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>d</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>{}  
</span></span><span style=display:flex><span><span style=color:#a6e22e>cache</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>Triplet</span>]<span style=color:#66d9ef>int</span>{}  
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {  
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>fk</span>[<span style=color:#a6e22e>i</span>] = (<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i_</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {  
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>cached</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cache</span>[<span style=color:#a6e22e>Triplet</span>{<span style=color:#a6e22e>i_</span>, <span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span>}]  
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>ok</span> {  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>cached</span>  
</span></span><span style=display:flex><span>         }  
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allInstrs</span>[<span style=color:#a6e22e>i_</span><span style=color:#f92672>*</span><span style=color:#ae81ff>18</span> : (<span style=color:#a6e22e>i_</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>18</span>]  
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>ret</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, []<span style=color:#66d9ef>int</span>{<span style=color:#a6e22e>in</span>}, <span style=color:#a6e22e>Reg</span>{<span style=color:#a6e22e>Z</span>: <span style=color:#a6e22e>z</span>}).<span style=color:#a6e22e>Z</span>  
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>cache</span>[<span style=color:#a6e22e>Triplet</span>{<span style=color:#a6e22e>i_</span>, <span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span>}] = <span style=color:#a6e22e>ret</span>  
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ret</span>  
</span></span><span style=display:flex><span>      }  
</span></span><span style=display:flex><span>   })(<span style=color:#a6e22e>i</span>)  
</span></span><span style=display:flex><span>}  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>F</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>func</span>([]<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>{}  
</span></span><span style=display:flex><span><span style=color:#a6e22e>F</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>is</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fk</span>[<span style=color:#ae81ff>0</span>](<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>is</span>[<span style=color:#ae81ff>0</span>])  
</span></span><span style=display:flex><span>}  
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {  
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>F</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i_</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>func</span>([]<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>is</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {  
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fk</span>[<span style=color:#a6e22e>i_</span>](<span style=color:#a6e22e>F</span>[<span style=color:#a6e22e>i_</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>](<span style=color:#a6e22e>is</span>), <span style=color:#a6e22e>is</span>[<span style=color:#a6e22e>i_</span>])  
</span></span><span style=display:flex><span>      }  
</span></span><span style=display:flex><span>   }(<span style=color:#a6e22e>i</span>)  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=first-attempt-at-an-algorithm>First attempt at an algorithm</h2><ul><li>Define the set of valid inputs for $f_{14}$ as ${0}$. ($f_{13}$ is the final module, but when looping through module 13 we need to refer to the next module.)</li><li>For each module, starting at the final module<ul><li>Loop over all possible inputs $i$ and $z$ and store a set of $(i,z)$ where $f_k(i,z)$ is contained in the set of valid inputs for $f_{k+1}$.</li></ul></li><li>Loop through the list of valid inputs $f_0$ and move back through the sets to build an input string. Pick the highest input.</li></ul><p>This didn&rsquo;t work, likely since $z$ becomes too big at some point. I had to limit the algorithm to a feasible set of z&rsquo;s (-1e6 to 1e6), and even then I ended up with zero valid inputs for $f_0$. I confirmed this by printing $z$ for random inputs, and found that $z$ can be in the range $10^{10}$ which is completely infeasible with this method, since the sets become too large to store in memory.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>FirstAlgo</span>(<span style=color:#a6e22e>f</span> <span style=color:#a6e22e>ModuleFunc</span>, <span style=color:#a6e22e>F</span> <span style=color:#a6e22e>CumulativeFunc</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>validInputs</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>Pair</span>]<span style=color:#66d9ef>bool</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>validInputs</span>[<span style=color:#ae81ff>14</span>] = <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>Pair</span>]<span style=color:#66d9ef>bool</span>{<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}: <span style=color:#66d9ef>true</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Nz</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>13</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>Pair</span>]<span style=color:#66d9ef>bool</span>{}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>dk</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>dk</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>dk</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>zk</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>Nz</span>; <span style=color:#a6e22e>zk</span> &lt; <span style=color:#a6e22e>Nz</span>; <span style=color:#a6e22e>zk</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>zNext</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>k</span>](<span style=color:#a6e22e>zk</span>, <span style=color:#a6e22e>dk</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>4</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>5</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>6</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>7</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>8</span>, <span style=color:#a6e22e>zNext</span>}] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#ae81ff>9</span>, <span style=color:#a6e22e>zNext</span>}] {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span>][<span style=color:#a6e22e>Pair</span>{<span style=color:#a6e22e>dk</span>, <span style=color:#a6e22e>zk</span>}] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>pair</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>validInputs</span>[<span style=color:#ae81ff>0</span>] {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Print</span>(<span style=color:#a6e22e>pair</span>.<span style=color:#a6e22e>B</span>, <span style=color:#e6db74>&#34; &#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This code finds many valid inputs for $f_0$ but they all require $z\neq 0$, which is contradictory since the first input must have $z=0$:</p><blockquote><p>-8 -111 -1 -110 -60 -139 -61 -2 -32 -5 -114 -9 -6 -59 -5 -138 -2 -1 -62 -1 -3 -7 -5 -1 -113 -3 -86 -1 -2 -3 -1 -112 -6 -3 -34 -4 -6 -84 -3 -33 -5 -136 -6 -36 -87 -2 -85 -6 -35 -140 -88 -5 -2 -4 -137 -58 -4 -10 -5 -4 -4</p></blockquote><p>I assume that by having an enormous range for $z$ I would eventually find the answer. Possibly before the heat death of the universe.</p><p><strong>A glimpse of hope:</strong> If larger z&rsquo;s are somehow truncated in each module (for example if the output only depends on <code>z mod 26</code> and not <code>z</code>) the input space could be compressed, making a similar algorithm feasible.</p><h2 id=compressing-the-valid-input-space>Compressing the valid input space</h2><p>If each module does in fact only depend on <code>z mod 26</code> then $z$ is a valid input if z%26 is valid input, and the valid inputs map will have a maximum size of 9 (number of digits) times 26 (the cardinality of the ring of integers modulo 26, $\mathbb {Z} /26\mathbb {Z}$, or simply $\mathbb Z_{26}$) = 234 which is a trivial amount to store in memory, which should make my initial algorithm feasible.</p><p>To check this I analyzed the final module $f_{13}$ by hand to see if anything depends on $z$ instead of just $z%26$. The x, y and z columns show the register values <em>after</em> the instruction in the first column has been executed. Note that the module doesn&rsquo;t actually depend on x, y or w from the previous module. They are all overwritten with 0 before they are used.</p><table><thead><tr><th>op</th><th>x</th><th>y</th><th>z</th></tr></thead><tbody><tr><td>$f_{12}$</td><td><code>x=?</code></td><td><code>y=?</code></td><td><code>z=z12</code></td></tr><tr><td>inp w</td><td><code>x=?</code></td><td><code>y=?</code></td><td><code>z=z12</code></td></tr><tr><td>mul x 0</td><td><code>x=0</code></td><td><code>y=?</code></td><td><code>z=z12</code></td></tr><tr><td>add x z</td><td><code>x=z12</code></td><td><code>y=?</code></td><td><code>z=z12</code></td></tr><tr><td>mod x 26</td><td><code>x=z12%26</code></td><td><code>y=?</code></td><td><code>z=z12</code></td></tr><tr><td>div z 26</td><td><code>x=z12%26</code></td><td><code>y=?</code></td><td><code>z=z12/26</code></td></tr><tr><td>add x -4</td><td><code>x=z12%26-4</code></td><td><code>y=?</code></td><td><code>z=z12/26</code></td></tr><tr><td>eql x w</td><td><code>x=z12%26-4=in13</code></td><td><code>y=?</code></td><td><code>z=z12/26</code></td></tr><tr><td>eql x 0</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=?</code></td><td><code>z=z12/26</code></td></tr><tr><td>mul y 0</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=0</code></td><td><code>z=z12/26</code></td></tr><tr><td>add y 25</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=25</code></td><td><code>z=z12/26</code></td></tr><tr><td>mul y x</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=25*(z12%26-4!=in13)</code></td><td><code>z=z12/26</code></td></tr><tr><td>add y 1</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=25*(z12%26-4!=in13)+1</code></td><td><code>z=z12/26</code></td></tr><tr><td>mul z y</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=25*(z12%26-4!=in13)+1</code></td><td><code>z=z12/26*(25*(z12%26-4!=in13)+1)</code></td></tr><tr><td>mul y 0</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=0</code></td><td><code>z=z12/26*(25*(z12%26-4!=in13)+1)</code></td></tr><tr><td>add y w</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=in13</code></td><td><code>z=z12/26*(25*(z12%26-4!=in13)+1)</code></td></tr><tr><td>add y 11</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=in13+11</code></td><td><code>z=z12/26*(25*(z12%26-4!=in13)+1)</code></td></tr><tr><td>mul y x</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=(in13+11)*(z12%26-4!=in13)</code></td><td><code>z=z12/26*(25*(z12%26-4!=in13)+1)</code></td></tr><tr><td>add z y</td><td><code>x=z12%26-4!=in13</code></td><td><code>y=(in13+11)*(z12%26-4!=in13)</code></td><td><code>z=z12/26*(25*(z12%26-4!=in13)+1)+(in13+11)*(z12%26-4!=in13)</code></td></tr><tr><td>output</td><td></td><td></td><td><code>z=z12/26*(25*(z12%26-4!=in13)+1)+(in13+11)*(z12%26-4!=in13)</code></td></tr></tbody></table><p>Notice that the final output $z_{13}$ depends not only on $z%13$ but also $z/26$. $\LaTeX$ notation to make it somewhat more readable:
$$ z_{13} = \left\lfloor \frac{z_{12}}{26}\right\rfloor \cdot (25((z_{12}\bmod26 - 4 \neq i_{13}))+1) + (i_{13}+11)\cdot (z_{12}\bmod6-4 \neq i_{13})$$
Unfortunately, it is not immediately obvious whether or not we can reduce the input space.</p><h2 id=analyzing-z_130>Analyzing $z_{13}=0$</h2><p>I need to find $\mathbf i$ so that $z_{13}=0$ . This can happen when either</p><ul><li>The parts are both zero: $\left\lfloor \frac{z_{12}}{26}\right\rfloor \cdot (25((z_{12}\bmod26 - 4 \neq i_{13})+1)=0$ and $(i_{13}+11)\cdot (z_{12}\bmod6-4 \neq i_{13})=0$</li><li>The parts negate each other: $\left\lfloor \frac{z_{12}}{26}\right\rfloor \cdot (25(z_{12}\bmod26 - 4 \neq i_{13})+1) = - (i_{13}+11)\cdot (z_{12}\bmod26-4 \neq i_{13})$<ul><li>This can never happen since $(a\neq b) \ge 0 \quad \forall\quad a,b$ . So the left side is always $\ge 0$, and the right side is always $\le 0$, so both must be 0 for this to be true.</li></ul></li></ul><h2 id=comparing-the-modules>Comparing the modules</h2><p>Each module has subtly different constants. I wrote a small function to print all instructions sorted by their index in each module, instead of their global index:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>CompareModules</span>(<span style=color:#a6e22e>allInstrs</span> []<span style=color:#a6e22e>Instruction</span>) {  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {  
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;|k=%d&#34;</span>, <span style=color:#a6e22e>k</span>)  
</span></span><span style=display:flex><span>   }  
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;|&#34;</span>)  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {  
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;|----&#34;</span>)  
</span></span><span style=display:flex><span>   }  
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;|&#34;</span>)  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>18</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {  
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;|%d|&#34;</span>, <span style=color:#a6e22e>i</span>)  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {  
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>instr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allInstrs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>*</span><span style=color:#ae81ff>18</span><span style=color:#f92672>+</span><span style=color:#a6e22e>i</span>]  
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Print</span>(<span style=color:#a6e22e>instr</span>, <span style=color:#e6db74>&#34;|&#34;</span>)  
</span></span><span style=display:flex><span>      }  
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>()  
</span></span><span style=display:flex><span>   }  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><table><thead><tr><th></th><th>k=0</th><th>k=1</th><th>k=2</th><th>k=3</th><th>k=4</th><th>k=5</th><th>k=6</th><th>k=7</th><th>k=8</th><th>k=9</th><th>k=10</th><th>k=11</th><th>k=12</th><th>k=13</th></tr></thead><tbody><tr><td>0</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td><td>inp w</td></tr><tr><td>1</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td><td>mul x 0</td></tr><tr><td>2</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td><td>add x z</td></tr><tr><td>3</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td><td>mod x 26</td></tr><tr><td><strong>4 (a)</strong></td><td>div z 1</td><td>div z 1</td><td>div z 1</td><td>div z 1</td><td>div z 26</td><td>div z 1</td><td>div z 1</td><td>div z 26</td><td>div z 26</td><td>div z 26</td><td>div z 1</td><td>div z 26</td><td>div z 26</td><td>div z 26</td></tr><tr><td><strong>5 (b)</strong></td><td>add x 14</td><td>add x 15</td><td>add x 12</td><td>add x 11</td><td>add x -5</td><td>add x 14</td><td>add x 15</td><td>add x -13</td><td>add x -16</td><td>add x -8</td><td>add x 15</td><td>add x -8</td><td>add x 0</td><td>add x -4</td></tr><tr><td>6</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td><td>eql x w</td></tr><tr><td>7</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td><td>eql x 0</td></tr><tr><td>8</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td></tr><tr><td>9</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td><td>add y 25</td></tr><tr><td>10</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td></tr><tr><td>11</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td><td>add y 1</td></tr><tr><td>12</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td><td>mul z y</td></tr><tr><td>13</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td><td>mul y 0</td></tr><tr><td>14</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td><td>add y w</td></tr><tr><td><strong>15 (c)</strong></td><td>add y 12</td><td>add y 7</td><td>add y 1</td><td>add y 2</td><td>add y 4</td><td>add y 15</td><td>add y 11</td><td>add y 5</td><td>add y 3</td><td>add y 9</td><td>add y 2</td><td>add y 3</td><td>add y 3</td><td>add y 11</td></tr><tr><td>16</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td><td>mul y x</td></tr><tr><td>17</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td><td>add z y</td></tr></tbody></table><p>From this table it is clear each module only differ by 3 constants, in instructions 4, 5 and 15. Let&rsquo;s call these constants $a$, $b$ and $c$.</p><ul><li>$a$ is either 1 or 26.</li><li>$b$ varies between -16 and 15.</li><li>$c$ varies between 1 and 15.</li></ul><p>By analyzing $f_{13}$ again, but using these variables instead, we find a more general expression that represents each module:</p><p>$$\begin{align}
z_{0} &= (i_{0}+c_0)\cdot (b_0 \neq i_{k}) \\
z_{1} &= \left\lfloor \frac{z_{0}}{a_1}\right\rfloor \cdot (25(z_{0}\bmod26 + b_1 \neq i_{1}))+1) +(i_{1}+c_1)\cdot (z_{0}\bmod26+b_1 \neq i_{1})\\
&\vdots\\
z_{k} &= \left\lfloor \frac{z_{k-1}}{a_k}\right\rfloor \cdot (25(z_{k-1}\bmod26 + b_k \neq i_{k}))+1) + (i_{k}+c_k)\cdot (z_{k-1}\bmod26+b_k \neq i_{k})
\end{align}$$</p><p>At this point I can compute $F_{13}$ much faster than simulating the ALU. The ALU simulator runs the program in around 1166 nanoseconds, while this function runs in only 50 nanoseconds, a speedup of ~23 times. But looping over the entire input will still take $10^{14} \cdot 50,\mathrm{ns}$ = 57 days&mldr; My bruteforce function fails to find a single valid input in reasonable time.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>F13</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span>, <span style=color:#a6e22e>i</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>z</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>k</span>]<span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#a6e22e>b</span>[<span style=color:#a6e22e>k</span>] <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#a6e22e>k</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#a6e22e>k</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>c</span>[<span style=color:#a6e22e>k</span>])<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#a6e22e>b</span>[<span style=color:#a6e22e>k</span>] <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#a6e22e>k</span>])
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>z</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=what-now>What now?</h2><p>For the hell of it, I tried a simple graph search. It&rsquo;s neither BFS, DFS or Dijkstra. Simply a random exhaustive walk through the possible graph state. The state is represented as a tuple of $k$ and $z_k$.</p><p>It worked ü§¶‚Äç‚ôÇÔ∏è.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>State</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>K</span>, <span style=color:#a6e22e>Z</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GraphSearch</span>(<span style=color:#a6e22e>max</span> <span style=color:#66d9ef>bool</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>visited</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#66d9ef>bool</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>S</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>S</span>[<span style=color:#a6e22e>State</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>}] = <span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>prev</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#a6e22e>State</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>digit</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>S</span>) &gt; <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>nodeCurr</span> <span style=color:#a6e22e>State</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>S</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>nodeCurr</span> = <span style=color:#a6e22e>s</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		delete(<span style=color:#a6e22e>S</span>, <span style=color:#a6e22e>nodeCurr</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>visited</span>[<span style=color:#a6e22e>nodeCurr</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>nodeCurr</span>.<span style=color:#a6e22e>K</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>z</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>nodeCurr</span>.<span style=color:#a6e22e>Z</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>14</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digits</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>nodeCurr</span> <span style=color:#f92672>!=</span> (<span style=color:#a6e22e>State</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>}) {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>digits</span> = append(<span style=color:#a6e22e>digits</span>, <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeCurr</span>])
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>nodeCurr</span> = <span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeCurr</span>]
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>sliceutil</span>.<span style=color:#a6e22e>ReverseInt</span>(<span style=color:#a6e22e>digits</span>)
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>mathutil</span>.<span style=color:#a6e22e>FromDigitsInt</span>(<span style=color:#a6e22e>digits</span>, <span style=color:#ae81ff>10</span>))
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mathutil</span>.<span style=color:#a6e22e>FromDigitsInt</span>(<span style=color:#a6e22e>digits</span>, <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>zNext</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>nodeNext</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>State</span>{<span style=color:#a6e22e>k</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>zNext</span>}
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>nodeCurr</span>
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>i</span> &gt; <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>nodeCurr</span>
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>max</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>nodeCurr</span>
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>visited</span>[<span style=color:#a6e22e>nodeNext</span>] {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>S</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This runs in about 1 minute, and fins the answer to both part 1 and part 2. Run it with <code>max=true</code> for part 1 and <code>max=false</code> for part 2.</p><h2 id=appendix-1-all-the-code>Appendix 1: All the code</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;bufio&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/roessland/gopkg/mathutil&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/roessland/gopkg/sliceutil&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;io&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;math/rand&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strconv&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strings&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>init</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>allInstrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseFile</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span> = <span style=color:#a6e22e>ExtractABC</span>(<span style=color:#a6e22e>allInstrs</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>InstructionType</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Inp</span> <span style=color:#a6e22e>InstructionType</span> = <span style=color:#66d9ef>iota</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>AddC</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>AddP</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>MulC</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>MulP</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>DivC</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>DivP</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ModC</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ModP</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>EqlC</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>EqlP</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Reg</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>W</span>, <span style=color:#a6e22e>X</span>, <span style=color:#a6e22e>Y</span>, <span style=color:#a6e22e>Z</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Reg</span>) <span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>val</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>name</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;w&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>W</span> = <span style=color:#a6e22e>val</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;x&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>X</span> = <span style=color:#a6e22e>val</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;y&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Y</span> = <span style=color:#a6e22e>val</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;z&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Z</span> = <span style=color:#a6e22e>val</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>		panic(<span style=color:#e6db74>&#34;no such register&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Reg</span>) <span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>name</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;w&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>W</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;x&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>X</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;y&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Y</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;z&#39;</span>:
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Z</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>		panic(<span style=color:#e6db74>&#34;no such register&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span> []<span style=color:#a6e22e>Instruction</span>, <span style=color:#a6e22e>inps</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>reg</span> <span style=color:#a6e22e>Reg</span>) <span style=color:#a6e22e>Reg</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inpCount</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>instr</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>instrs</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Inp</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>inps</span>[<span style=color:#a6e22e>inpCount</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>inpCount</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>AddC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>AddP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>MulC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>MulP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>DivC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>DivP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>ModC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>%</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>ModP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>%</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>EqlC</span>:
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>) <span style=color:#f92672>==</span> <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>EqlP</span>:
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>) <span style=color:#f92672>==</span> <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>reg</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Compute2</span>(<span style=color:#a6e22e>instrs</span> []<span style=color:#a6e22e>Instruction</span>, <span style=color:#a6e22e>inps</span> []<span style=color:#66d9ef>int</span>) <span style=color:#a6e22e>Reg</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>reg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Reg</span>{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inpCount</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>lastModified</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Reg</span>{}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>instr</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>instrs</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d[\&#34;%s\&#34;]\n&#34;</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Text</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>deps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Inp</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>inps</span>[<span style=color:#a6e22e>inpCount</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#ae81ff>1000</span><span style=color:#f92672>+</span><span style=color:#a6e22e>inpCount</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>inpCount</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>AddC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>AddP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>MulC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>MulP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>DivC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>DivP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>ModC</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>%</span><span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>ModP</span>:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>)<span style=color:#f92672>%</span><span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>EqlC</span>:
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>) <span style=color:#f92672>==</span> <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>EqlP</span>:
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>) <span style=color:#f92672>==</span> <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>deps</span> = append(<span style=color:#a6e22e>deps</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>			panic(<span style=color:#e6db74>&#34;bruh&#34;</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>deps</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d --&gt; %d\n&#34;</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>deps</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>deps</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d --&gt; %d &amp; %d\n&#34;</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>deps</span>[<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>deps</span>[<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;z --&gt; %d\n&#34;</span>, <span style=color:#a6e22e>lastModified</span>.<span style=color:#a6e22e>Z</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Exit</span>(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>reg</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Instruction</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Type</span> <span style=color:#a6e22e>InstructionType</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>A</span>    <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>B</span>    <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Text</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>i</span> <span style=color:#a6e22e>Instruction</span>) <span style=color:#a6e22e>String</span>() <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>i</span>.<span style=color:#a6e22e>Text</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ParseFile</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) []<span style=color:#a6e22e>Instruction</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ParseString</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) []<span style=color:#a6e22e>Instruction</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>r</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>r</span> <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Reader</span>) []<span style=color:#a6e22e>Instruction</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>instructions</span> []<span style=color:#a6e22e>Instruction</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>scanner</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewScanner</span>(<span style=color:#a6e22e>r</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>scanner</span>.<span style=color:#a6e22e>Scan</span>() {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>line</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>scanner</span>.<span style=color:#a6e22e>Text</span>())
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>line</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>codeComment</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>SplitN</span>(<span style=color:#a6e22e>line</span>, <span style=color:#e6db74>&#34;//&#34;</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>parts</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Split</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>codeComment</span>[<span style=color:#ae81ff>0</span>]), <span style=color:#e6db74>&#34; &#34;</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>name</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>parts</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>parts</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>parts</span>[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>instr</span> <span style=color:#a6e22e>Instruction</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Text</span> = <span style=color:#a6e22e>line</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>isPtr</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bInt</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>parts</span>) &gt; <span style=color:#ae81ff>2</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>b</span> = <span style=color:#a6e22e>parts</span>[<span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>b</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>				panic(<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;wtf: %v&#34;</span>, <span style=color:#a6e22e>parts</span>))
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>isPtr</span> = <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;z&#39;</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>bInt</span>, <span style=color:#a6e22e>_</span> = <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Atoi</span>(<span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Op</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Name</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>IsPtr</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>op</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Op</span>{<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>isPtr</span>}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>op</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;inp&#34;</span>, <span style=color:#66d9ef>false</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>Inp</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;add&#34;</span>, <span style=color:#66d9ef>false</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>AddC</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = <span style=color:#a6e22e>bInt</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;add&#34;</span>, <span style=color:#66d9ef>true</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>AddP</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = int(<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;mul&#34;</span>, <span style=color:#66d9ef>false</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>MulC</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = <span style=color:#a6e22e>bInt</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;mul&#34;</span>, <span style=color:#66d9ef>true</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>MulP</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = int(<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;div&#34;</span>, <span style=color:#66d9ef>false</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>DivC</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = <span style=color:#a6e22e>bInt</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;div&#34;</span>, <span style=color:#66d9ef>true</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>DivP</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = int(<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;mod&#34;</span>, <span style=color:#66d9ef>false</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>ModC</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = <span style=color:#a6e22e>bInt</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;mod&#34;</span>, <span style=color:#66d9ef>true</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>ModP</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = int(<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;eql&#34;</span>, <span style=color:#66d9ef>false</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>EqlC</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = <span style=color:#a6e22e>bInt</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Op</span>{<span style=color:#e6db74>&#34;eql&#34;</span>, <span style=color:#66d9ef>true</span>}:
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>Type</span> = <span style=color:#a6e22e>EqlP</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>A</span> = int(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span> = int(<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>instructions</span> = append(<span style=color:#a6e22e>instructions</span>, <span style=color:#a6e22e>instr</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>instructions</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Pair</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>B</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Triplet</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>C</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ModuleFunc</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>z</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>d</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>CumulativeFunc</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>func</span>([]<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>CompareModules</span>(<span style=color:#a6e22e>allInstrs</span> []<span style=color:#a6e22e>Instruction</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;|k=%d&#34;</span>, <span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;|&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;|----&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;|&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>18</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;|%d|&#34;</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>instr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allInstrs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>*</span><span style=color:#ae81ff>18</span><span style=color:#f92672>+</span><span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Print</span>(<span style=color:#a6e22e>instr</span>, <span style=color:#e6db74>&#34;|&#34;</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>()
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ExtractABC</span>(<span style=color:#a6e22e>allInstrs</span> []<span style=color:#a6e22e>Instruction</span>) (<span style=color:#a6e22e>as</span>, <span style=color:#a6e22e>bs</span>, <span style=color:#a6e22e>cs</span> []<span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>instr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allInstrs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>*</span><span style=color:#ae81ff>18</span><span style=color:#f92672>+</span><span style=color:#ae81ff>4</span>]
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>as</span> = append(<span style=color:#a6e22e>as</span>, <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>instr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allInstrs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>*</span><span style=color:#ae81ff>18</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>]
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>bs</span> = append(<span style=color:#a6e22e>bs</span>, <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>instr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allInstrs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>*</span><span style=color:#ae81ff>18</span><span style=color:#f92672>+</span><span style=color:#ae81ff>15</span>]
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>cs</span> = append(<span style=color:#a6e22e>cs</span>, <span style=color:#a6e22e>instr</span>.<span style=color:#a6e22e>B</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>as</span>, <span style=color:#a6e22e>bs</span>, <span style=color:#a6e22e>cs</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GetModulesWithMemoization</span>(<span style=color:#a6e22e>allInstrs</span> []<span style=color:#a6e22e>Instruction</span>) (<span style=color:#a6e22e>fk</span> <span style=color:#a6e22e>ModuleFunc</span>, <span style=color:#a6e22e>Fk</span> <span style=color:#a6e22e>CumulativeFunc</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fk</span> = make(<span style=color:#a6e22e>ModuleFunc</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cache</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>Triplet</span>]<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fk</span>[<span style=color:#a6e22e>i</span>] = (<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i_</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>cached</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cache</span>[<span style=color:#a6e22e>Triplet</span>{<span style=color:#a6e22e>i_</span>, <span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span>}]
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>					<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>cached</span>
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allInstrs</span>[<span style=color:#a6e22e>i_</span><span style=color:#f92672>*</span><span style=color:#ae81ff>18</span> : (<span style=color:#a6e22e>i_</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>18</span>]
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>ret</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, []<span style=color:#66d9ef>int</span>{<span style=color:#a6e22e>in</span>}, <span style=color:#a6e22e>Reg</span>{<span style=color:#a6e22e>Z</span>: <span style=color:#a6e22e>z</span>}).<span style=color:#a6e22e>Z</span>
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>cache</span>[<span style=color:#a6e22e>Triplet</span>{<span style=color:#a6e22e>i_</span>, <span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>in</span>}] = <span style=color:#a6e22e>ret</span>
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ret</span>
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		})(<span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>F</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>func</span>([]<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>F</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>is</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fk</span>[<span style=color:#ae81ff>0</span>](<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>is</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>F</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i_</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>func</span>([]<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>is</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fk</span>[<span style=color:#a6e22e>i_</span>](<span style=color:#a6e22e>F</span>[<span style=color:#a6e22e>i_</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>](<span style=color:#a6e22e>is</span>), <span style=color:#a6e22e>is</span>[<span style=color:#a6e22e>i_</span>])
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}(<span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fk</span>, <span style=color:#a6e22e>F</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>RandomizeInput</span>(<span style=color:#a6e22e>inps</span> []<span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>inps</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>inps</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>9</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>PartialRandomizeInput</span>(<span style=color:#a6e22e>inps</span> []<span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span>[<span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(len(<span style=color:#a6e22e>inps</span>))] = <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>9</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>FirstAlgo</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>validInputs</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>bool</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>validInputs</span>[<span style=color:#ae81ff>14</span>] = <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>bool</span>{<span style=color:#ae81ff>0</span>: <span style=color:#66d9ef>true</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>zMax</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10760000</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>13</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>6</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>bool</span>{}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>zk</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>zk</span> &lt; <span style=color:#a6e22e>zMax</span>; <span style=color:#a6e22e>zk</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>dk</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>dk</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>dk</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>zNext</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>zk</span>, <span style=color:#a6e22e>dk</span>, <span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>zNext</span>] {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span>][<span style=color:#a6e22e>zk</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>zk</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>validInputs</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>k</span>, len(<span style=color:#a6e22e>zk</span>), <span style=color:#e6db74>&#34; &#34;</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>b</span> <span style=color:#66d9ef>bool</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>b</span>[<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>c</span>[<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#a6e22e>a</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#a6e22e>b</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>c</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#a6e22e>b</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Codegen</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span>, <span style=color:#a6e22e>i</span> []<span style=color:#66d9ef>int</span>) (<span style=color:#a6e22e>z</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#ae81ff>14</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>i</span>[<span style=color:#a6e22e>k</span>], <span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>z</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>computeZ1</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// [{1 13} {2 346} {3 9005} {4 234136} {5 9005} {6 234147} {7 6087836} {8 234147} {9 9005} {10 346} {11 9005} {12 346} {13 13} {14 0}] [1 1 8 4 1 2 3 1 1 1 7 1 8 9]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//11841231117189
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// 1 1 8
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>d</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>d</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>d</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>f</span>(<span style=color:#ae81ff>346</span>, <span style=color:#a6e22e>d</span>, <span style=color:#ae81ff>13</span>))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>F13</span>(<span style=color:#a6e22e>i</span> []<span style=color:#66d9ef>int</span>) (<span style=color:#a6e22e>z</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>asInt</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>b</span> <span style=color:#66d9ef>bool</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>14</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>0</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>12</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>14</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>1</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>7</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>12</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>2</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>12</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>2</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>11</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>3</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>11</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>3</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>26</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>5</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>4</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>4</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>5</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>4</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>14</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>5</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>15</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>14</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>5</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>6</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>6</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>11</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>6</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>26</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>13</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>7</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>7</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>13</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>7</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>26</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>16</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>8</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>8</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>3</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>16</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>8</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>26</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>8</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>9</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>9</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>9</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>8</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>9</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>10</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>10</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>10</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>26</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>8</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>11</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>11</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>3</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>8</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>11</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>26</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>12</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>12</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>3</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>12</span>])
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>z</span> = <span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>26</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>25</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>13</span>]))<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>+</span> (<span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>13</span>]<span style=color:#f92672>+</span><span style=color:#ae81ff>11</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>asInt</span>(<span style=color:#a6e22e>z</span><span style=color:#f92672>%</span><span style=color:#ae81ff>26</span><span style=color:#f92672>+-</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>i</span>[<span style=color:#ae81ff>13</span>])
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>z</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Bruteforce</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//for nthread := 0; nthread &lt; 1; nthread++ {
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//	go func() {
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>}
</span></span><span style=display:flex><span>	<span style=color:#75715e>//inps := []int{1, 1, 8, 4, 5, 6, 7, 8, 9, 1, 2, 3, 4, 5}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; ; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PartialRandomizeInput</span>(<span style=color:#a6e22e>inps</span>[<span style=color:#ae81ff>5</span>:])
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>z</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>F13</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;z&#34;</span>, <span style=color:#a6e22e>z</span>, <span style=color:#e6db74>&#34;inps&#34;</span>, <span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>inps64</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int64</span>, len(<span style=color:#a6e22e>inps</span>))
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>d</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>d</span> &lt; len(<span style=color:#a6e22e>inps64</span>); <span style=color:#a6e22e>d</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>inps64</span>[<span style=color:#a6e22e>d</span>] = int64(<span style=color:#a6e22e>inps</span>[<span style=color:#a6e22e>d</span>])
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>input10</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mathutil</span>.<span style=color:#a6e22e>FromDigits</span>(<span style=color:#a6e22e>inps64</span>[<span style=color:#ae81ff>0</span>:], <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>input26</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mathutil</span>.<span style=color:#a6e22e>ToDigitsInt</span>(<span style=color:#a6e22e>input10</span>, <span style=color:#ae81ff>26</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;base 26&#34;</span>, <span style=color:#a6e22e>input26</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#75715e>//	}()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//time.Sleep(1000 * time.Second)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>State</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>K</span>, <span style=color:#a6e22e>Z</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GraphSearch</span>(<span style=color:#a6e22e>max</span> <span style=color:#66d9ef>bool</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>visited</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#66d9ef>bool</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>S</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>S</span>[<span style=color:#a6e22e>State</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>}] = <span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>prev</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#a6e22e>State</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>digit</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>State</span>]<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>S</span>) &gt; <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>nodeCurr</span> <span style=color:#a6e22e>State</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>S</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>nodeCurr</span> = <span style=color:#a6e22e>s</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		delete(<span style=color:#a6e22e>S</span>, <span style=color:#a6e22e>nodeCurr</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>visited</span>[<span style=color:#a6e22e>nodeCurr</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>nodeCurr</span>.<span style=color:#a6e22e>K</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>z</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>nodeCurr</span>.<span style=color:#a6e22e>Z</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>14</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digits</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>nodeCurr</span> <span style=color:#f92672>!=</span> (<span style=color:#a6e22e>State</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>}) {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>digits</span> = append(<span style=color:#a6e22e>digits</span>, <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeCurr</span>])
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>nodeCurr</span> = <span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeCurr</span>]
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>sliceutil</span>.<span style=color:#a6e22e>ReverseInt</span>(<span style=color:#a6e22e>digits</span>)
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>mathutil</span>.<span style=color:#a6e22e>FromDigitsInt</span>(<span style=color:#a6e22e>digits</span>, <span style=color:#ae81ff>10</span>))
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mathutil</span>.<span style=color:#a6e22e>FromDigitsInt</span>(<span style=color:#a6e22e>digits</span>, <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>zNext</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>nodeNext</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>State</span>{<span style=color:#a6e22e>k</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>zNext</span>}
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>nodeCurr</span>
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>i</span> &gt; <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>nodeCurr</span>
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>			} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>max</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>prev</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>nodeCurr</span>
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>digit</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>visited</span>[<span style=color:#a6e22e>nodeNext</span>] {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>S</span>[<span style=color:#a6e22e>nodeNext</span>] = <span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//computeZ1()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>GraphSearch</span>(<span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>GraphSearch</span>(<span style=color:#66d9ef>false</span>)
</span></span><span style=display:flex><span>	<span style=color:#75715e>//computeZ1()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//Bruteforce()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//FirstAlgo()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//Codegen(a, b, c, nil)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// CompareModules(allInstrs)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//f, F := GetModulesWithMemoization(allInstrs)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//FirstAlgo(f, F)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 12996997829399 part 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 11841231117189 part 2
</span></span></span></code></pre></div><h2 id=appendix-2-tests>Appendix 2: Tests</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;embed&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/stretchr/testify/assert&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/stretchr/testify/require&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strings&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;testing&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#a6e22e>_</span> <span style=color:#e6db74>&#34;embed&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//go:embed input.txt
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>fs</span> <span style=color:#a6e22e>embed</span>.<span style=color:#a6e22e>FS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestComputeNegate</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> []<span style=color:#a6e22e>Instruction</span>{
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>tcs</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Name</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>X</span>     <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Input</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	}{
</span></span><span style=display:flex><span>		{<span style=color:#e6db74>&#34;-1 is -1&#34;</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>}},
</span></span><span style=display:flex><span>		{<span style=color:#e6db74>&#34;-5 is -5&#34;</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>, []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>5</span>}},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>tc</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>tcs</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Run</span>(<span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Name</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, <span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Input</span>, <span style=color:#a6e22e>Reg</span>{})
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>EqualValues</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>X</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>X</span>)
</span></span><span style=display:flex><span>		})
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestComputeIsTriple</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> []<span style=color:#a6e22e>Instruction</span>{
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>EqlP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>tcs</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Name</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Input</span>  []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Expect</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	}{
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;3*0 is 9&#34;</span>,
</span></span><span style=display:flex><span>			[]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>},
</span></span><span style=display:flex><span>			<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;3*1 is 3&#34;</span>,
</span></span><span style=display:flex><span>			[]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>			<span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;3*2 is not 5&#34;</span>,
</span></span><span style=display:flex><span>			[]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>},
</span></span><span style=display:flex><span>			<span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>tc</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>tcs</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Run</span>(<span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Name</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, <span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Input</span>, <span style=color:#a6e22e>Reg</span>{})
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>Equal</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Expect</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Z</span>)
</span></span><span style=display:flex><span>		})
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestComputeBinary</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> []<span style=color:#a6e22e>Instruction</span>{
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>ModC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>DivC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;y&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>ModC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;y&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>DivC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>ModC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>DivC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>ModC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>tcs</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Name</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Input</span>  []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Expect</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	}{
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;1 is 0b001&#34;</span>,
</span></span><span style=display:flex><span>			[]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>},
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;0001&#34;</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;2 is 0b010&#34;</span>,
</span></span><span style=display:flex><span>			[]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;0010&#34;</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;15 is 0b1111&#34;</span>,
</span></span><span style=display:flex><span>			[]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>15</span>},
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;1111&#34;</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>tc</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>tcs</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Run</span>(<span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Name</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>reg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, <span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Input</span>, <span style=color:#a6e22e>Reg</span>{})
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>W</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>X</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Y</span>, <span style=color:#a6e22e>reg</span>.<span style=color:#a6e22e>Z</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>got</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;%d%d%d%d&#34;</span>, <span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>Equal</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>tc</span>.<span style=color:#a6e22e>Expect</span>, <span style=color:#a6e22e>got</span>)
</span></span><span style=display:flex><span>		})
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestComputeInpOut</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> []<span style=color:#a6e22e>Instruction</span>{
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>2</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;y&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;y&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>4</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulC</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#ae81ff>5</span>},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>reg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>}, <span style=color:#a6e22e>Reg</span>{})
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>EqualValues</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>Reg</span>{<span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span>}, <span style=color:#a6e22e>reg</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestComputePtrs</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Inp 2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//	AddP 2 + 3 = 5
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//	MulP (2+3)*4 = 20
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//	DivP (2+3)*4 / 2 = 10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//	ModP (2+3)*4 / 2 % 3 = 1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inp 1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//	EqlP
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> []<span style=color:#a6e22e>Instruction</span>{
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>}, <span style=color:#75715e>// w=2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>}, <span style=color:#75715e>// x=3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>}, <span style=color:#75715e>// w=5
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>},          <span style=color:#75715e>// x=4
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>}, <span style=color:#75715e>// w=20
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>}, <span style=color:#75715e>// z=20
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>},          <span style=color:#75715e>// x=2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>DivP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>}, <span style=color:#75715e>// w=10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;y&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>}, <span style=color:#75715e>// y=10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>},          <span style=color:#75715e>// x=3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>ModP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>}, <span style=color:#75715e>// w=1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>},          <span style=color:#75715e>// x=1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>EqlP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>}, <span style=color:#75715e>// x=1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>reg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>}, <span style=color:#a6e22e>Reg</span>{})
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>EqualValues</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>Reg</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span>}, <span style=color:#a6e22e>reg</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestTrimSpaceTrimsTabs</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>input</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;\tbanana&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>EqualValues</span>(<span style=color:#a6e22e>t</span>, <span style=color:#e6db74>&#34;banana&#34;</span>, <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>input</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestComputeParseString</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>input</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		inp w // get input // yo
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		inp x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		add w x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		inp x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		mul w x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		add z w
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		inp x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		div w x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		add y w
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		inp x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		mod w x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		inp x
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		eql x w`</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>actualInstrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseString</span>(<span style=color:#a6e22e>input</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>expectedInstrs</span> <span style=color:#f92672>:=</span> []<span style=color:#a6e22e>Instruction</span>{
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;inp w // get input // yo&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;inp x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;add w x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;inp x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>MulP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;mul w x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;add z w&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;inp x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>DivP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;div w x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>AddP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;y&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;add y w&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;inp x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>ModP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;mod w x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>Inp</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;inp x&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>Type</span>: <span style=color:#a6e22e>EqlP</span>, <span style=color:#a6e22e>A</span>: <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#a6e22e>B</span>: <span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#a6e22e>Text</span>: <span style=color:#e6db74>&#34;eql x w&#34;</span>},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>EqualValues</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>expectedInstrs</span>, <span style=color:#a6e22e>actualInstrs</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>BenchmarkComputeInput</span>(<span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>N</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>%</span><span style=color:#ae81ff>1000</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>RandomizeInput</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, <span style=color:#a6e22e>inps</span>, <span style=color:#a6e22e>Reg</span>{})
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>BenchmarkGeneratedCode</span>(<span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>N</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>%</span><span style=color:#ae81ff>1000</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>RandomizeInput</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>F13</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>BenchmarkCodegen</span>(<span style=color:#a6e22e>B</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>B</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ExtractABC</span>(<span style=color:#a6e22e>instrs</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>B</span>.<span style=color:#a6e22e>N</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>%</span><span style=color:#ae81ff>1000</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>RandomizeInput</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Codegen</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span>, <span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>BenchmarkModuleMemoization</span>(<span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>F</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>GetModulesWithMemoization</span>(<span style=color:#a6e22e>instrs</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>N</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>%</span><span style=color:#ae81ff>100</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>RandomizeInput</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>F</span>[<span style=color:#ae81ff>13</span>](<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestGetModulesWithMemoization</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>F</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>GetModulesWithMemoization</span>(<span style=color:#a6e22e>instrs</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>Equal</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, <span style=color:#a6e22e>inps</span>, <span style=color:#a6e22e>Reg</span>{}).<span style=color:#a6e22e>Z</span>, <span style=color:#a6e22e>F</span>[<span style=color:#ae81ff>13</span>](<span style=color:#a6e22e>inps</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestCodegen</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ExtractABC</span>(<span style=color:#a6e22e>instrs</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>Equal</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, <span style=color:#a6e22e>inps</span>, <span style=color:#a6e22e>Reg</span>{}).<span style=color:#a6e22e>Z</span>, <span style=color:#a6e22e>Codegen</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span>, <span style=color:#a6e22e>inps</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestF13</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#e6db74>&#34;input.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>instrs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ParseInput</span>(<span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>100</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RandomizeInput</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>require</span>.<span style=color:#a6e22e>Equal</span>(<span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>Compute</span>(<span style=color:#a6e22e>instrs</span>, <span style=color:#a6e22e>inps</span>, <span style=color:#a6e22e>Reg</span>{}).<span style=color:#a6e22e>Z</span>, <span style=color:#a6e22e>F13</span>(<span style=color:#a6e22e>inps</span>))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>BenchmarkRandomizeInput</span>(<span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>N</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RandomizeInput</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>BenchmarkPartialRandomizeInput</span>(<span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>B</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>inps</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>N</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PartialRandomizeInput</span>(<span style=color:#a6e22e>inps</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://www.roessland.com/>&copy; Andreas R√∏ssland 2022</a><div><div class=ananke-socials><a href=https://github.com/roessland target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub‚Äî‚ÄîOpens in a new window"><span class=icon><svg height="50" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></div></footer></body></html>